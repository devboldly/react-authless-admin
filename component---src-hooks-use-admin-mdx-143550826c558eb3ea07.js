(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"pq+o":function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return o})),n.d(t,"default",(function(){return c}));var a=n("Fcif"),l=n("+I+c"),b=(n("mXGw"),n("/FXl")),r=n("TjRS"),o=(n("aD51"),{});void 0!==o&&o&&o===Object(o)&&Object.isExtensible(o)&&!o.hasOwnProperty("__filemeta")&&Object.defineProperty(o,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/hooks/useAdmin.mdx"}});var i={_frontmatter:o},s=r.a;function c(e){var t=e.components,n=Object(l.a)(e,["components"]);return Object(b.b)(s,Object(a.a)({},i,n,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h1",null,"useAdmin"),Object(b.b)("h2",{id:"description"},"Description"),Object(b.b)("p",null,"This hook can be used to enable or disable admin-only components on a static site that lacks user authentication."),Object(b.b)("p",null,"Using this, components such as an edit content button (that takes you to an admin page elsewhere) can be hidden from all non-admin users."),Object(b.b)("p",null,"This is accomplished via a ",Object(b.b)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage"},"local storage")," value. This means switching admin on will persist between browser sessions unless the user clears their history."),Object(b.b)("h2",{id:"usage"},"Usage"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"import { useAdmin } from 'react-authless-admin';\n")),Object(b.b)("p",null,"In your function component: "),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"const [isAdmin, setIsAdmin] = useAdmin();\n")),Object(b.b)("p",null,"Then, to toggle the admin state:"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"setIsAdmin(!isAdmin);\n")),Object(b.b)("p",null,"This will set the value in local storage and synchronize all existing hooks."),Object(b.b)("h3",{id:"using-a-passcode"},"Using A Passcode"),Object(b.b)("p",null,"One way to use this hook is to create a passcode for admins and call ",Object(b.b)("inlineCode",{parentName:"p"},"setIsAdmin(true)")," when entered on an admin login page."),Object(b.b)("p",null,"See the ",Object(b.b)("a",{parentName:"p",href:"/react-authless-admin/demo"},"demo")," for an example of this."),Object(b.b)("h3",{id:"role-support"},"Role Support"),Object(b.b)("p",null,"You can pass the hook the key name to use in ",Object(b.b)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage"},"local storage"),"."),Object(b.b)("p",null,"For example:"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"const [isEditor, setIsEditor] = useAdmin('editor');\nconst [isDesigner, setIsDesigner] = useAdmin('designer');\n")),Object(b.b)("p",null,"This allows you to support multiple roles if needed. Those keys can then be provided to ",Object(b.b)("a",{parentName:"p",href:"/react-authless-admin/AdminOnly"},"AdminOnly")," and ",Object(b.b)("a",{parentName:"p",href:"/react-authless-admin/NonAdminOnly"},"NonAdminOnly")," via the ",Object(b.b)("inlineCode",{parentName:"p"},"localStorageKeyName")," prop."),Object(b.b)("h2",{id:"signature"},"Signature"),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"useAdmin(localStorageKeyName?: string) => [boolean, (isAdmin: boolean) => void]")),Object(b.b)("h3",{id:"props"},"Props"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:null},"Prop"),Object(b.b)("th",{parentName:"tr",align:null},"Type"),Object(b.b)("th",{parentName:"tr",align:null},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"localStorageKeyName"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",{parentName:"tr",align:null},"Optional. The ",Object(b.b)("a",{parentName:"td",href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage"},"local storage")," key name for the admin boolean. Defaults to ",Object(b.b)("inlineCode",{parentName:"td"},"react-authless-admin"))))),Object(b.b)("h3",{id:"return"},"Return"),Object(b.b)("p",null,"The hook returns an array containing:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:null},"Index"),Object(b.b)("th",{parentName:"tr",align:null},"Name"),Object(b.b)("th",{parentName:"tr",align:null},"Type"),Object(b.b)("th",{parentName:"tr",align:null},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"0"),Object(b.b)("td",{parentName:"tr",align:null},"isAdmin"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"boolean")),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"true")," if admin is enabled, ",Object(b.b)("inlineCode",{parentName:"td"},"false")," otherwise.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"1"),Object(b.b)("td",{parentName:"tr",align:null},"setIsAdmin"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"(isAdmin: boolean) â‡’ void")),Object(b.b)("td",{parentName:"tr",align:null},"Setter that sets admin to enabled or disabled. Persists to local storage and synchronizes all hooks.")))),Object(b.b)("h2",{id:"example"},"Example"),Object(b.b)("p",null,"See the ",Object(b.b)("a",{parentName:"p",href:"/react-authless-admin/demo"},"demo")," for a full example."))}void 0!==c&&c&&c===Object(c)&&Object.isExtensible(c)&&!c.hasOwnProperty("__filemeta")&&Object.defineProperty(c,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/hooks/useAdmin.mdx"}}),c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-hooks-use-admin-mdx-143550826c558eb3ea07.js.map